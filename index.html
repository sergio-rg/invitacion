<html>
<head>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/master/aframe/build/aframe-ar.min.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
  <a-scene embedded arjs vr-mode-ui="enabled: false">
    <!-- Cámara AR.js -->
    <a-marker preset="hiro" id="markerHiro">
      <!-- Video que se mostrará en AR -->
      <a-video id="arVideo" src="test.mp4" position="0 0.5 0" width="1" height="0.5" rotation="-90 0 0"></a-video>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    // Obtener el marcador y el video
    const marker = document.querySelector("#markerHiro");
    const video = document.querySelector("#arVideo");

    // Pausar el video al cargar la página
    window.addEventListener("load", () => {
      video.components.material.material.map.image.pause();
    });

    // Escuchar cuando el marcador sea detectado
    marker.addEventListener("markerFound", () => {
      console.log("Marcador encontrado, reproduciendo video");
      video.components.material.material.map.image.play(); // Reproducir el video cuando el marcador sea detectado
    });

    // Escuchar cuando el marcador sea perdido
    marker.addEventListener("markerLost", () => {
      console.log("Marcador perdido, pausando video");
      video.components.material.material.map.image.pause(); // Pausar el video cuando el marcador no se vea
    });
  </script>
</body>
</html>
